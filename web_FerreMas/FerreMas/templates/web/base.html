<!DOCTYPE html>
<html lang="en">
    <head>
        {% load static %}
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="{% static 'css/style.css' %}">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
        <script src="https://unpkg.com/lucide@latest"></script>
        <script src="{% static 'js/script.js' %}"></script>
        <script src="{% static 'js/apis.js' %}"></script>
        <script src="{% static 'js/firebase.js' %}"></script>
        <script src="{% static 'js/carrito.js' %}"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">


        <!-- Colocar icono a la pestaña -->
        <link rel="icon" href="{% static 'media/isotipo.svg' %}">
        <!-- Colocar nombre a la pestaña -->
        {% block nombrePag %}
        {% endblock %}
    </head>

    <body>
        
        <!-- navbar --> 
        <div class="button-container">
            <!-- Botón de inicio -->
            <a href="{% url 'inicio' %}">
                <button class="button">
                    <svg
                    class="icon navbar"
                    stroke="currentColor"
                    fill="currentColor"
                    stroke-width="0"
                    viewBox="0 0 1024 1024"
                    xmlns="http://www.w3.org/2000/svg"
                    >
                    <path
                        d="M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"
                    ></path>
                    </svg>
                </button>
            </a>
            <!-- Botón de búsqueda -->
            <a href="{% url 'productos' %}">
            <button class="button">
                <svg
                class="icon navbar"
                stroke="currentColor"
                fill="none"
                stroke-width="2"
                viewBox="0 0 24 24"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
                </svg>
            </button>
            </a>
            <!-- Botón de inicio de sesión -->
            <a href="{% url 'acceso' %}">
            <button class="button" >
                <svg
                class="icon navbar"
                stroke="currentColor"
                fill="currentColor"
                stroke-width="0"
                viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg"
                >
                <path
                    d="M12 2.5a5.5 5.5 0 0 1 3.096 10.047 9.005 9.005 0 0 1 5.9 8.181.75.75 0 1 1-1.499.044 7.5 7.5 0 0 0-14.993 0 .75.75 0 0 1-1.5-.045 9.005 9.005 0 0 1 5.9-8.18A5.5 5.5 0 0 1 12 2.5ZM8 8a4 4 0 1 0 8 0 4 4 0 0 0-8 0Z"
                ></path>
                </svg>
            </button>
            </a>

            <!-- Botón de carrito -->
            <a href="{% url 'carrito' %}">
            <button class="button">
                <svg
                class="icon"
                stroke="currentColor"
                fill="none"
                stroke-width="2"
                viewBox="0 0 24 24"
                stroke-linecap="round"
                stroke-linejoin="round"
                xmlns="http://www.w3.org/2000/svg"
                >
                <circle cx="9" cy="21" r="1"></circle>
                <circle cx="20" cy="21" r="1"></circle>
                <path
                    d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"
                ></path>
                </svg>
            </button>
            </a>

            <div class="contador">
              <!-- Contador de productos distintos en el carrito -->
              <span id="contador-productos">0</span>

            </div>


        </div>




        <!-- Modal para cambiar contraseña -->
        <div id="passwordChangeModal" class="modal">


          <div class="contenedor_informacion" >
            <div class="bloque_info">
              <div class="columna_info">
                <div class="encabezado-formulario">
                  <h1>Cambio de contraseña requerido</h1>
                </div>
                <div class="subtexto-formulario">
                  <p>Por seguridad, debes cambiar tu contraseña antes de continuar.</p>
                </div>
              </div>
              <div class="columna_info">
                <form class="form" id="changePasswordForm">
                  <!-- Contraseña actual -->
                  <div class="flex-column">
                    <label>Contraseña actual</label>
                  </div>
                  <div class="inputForm">
                    <!-- Ícono contraseña -->
                    <svg height="20" viewBox="-64 0 512 512" width="20" xmlns="http://www.w3.org/2000/svg" fill="white">
                      <path d="m336 512h-288c-26.453125 0-48-21.523438-48-48v-224c0-26.476562 21.546875-48 48-48h288c26.453125 0 48 21.523438 48 48v224c0 26.476562-21.546875 48-48 48zm-288-288c-8.8125 0-16 7.167969-16 16v224c0 8.832031 7.1875 16 16 16h288c8.8125 0 16-7.167969 16-16v-224c0-8.832031-7.1875-16-16-16zm0 0"></path>
                      <path d="m304 224c-8.832031 0-16-7.167969-16-16v-80c0-52.929688-43.070312-96-96-96s-96 43.070312-96 96v80c0 8.832031-7.167969 16-16 16s-16-7.167969-16-16v-80c0-70.59375 57.40625-128 128-128s128 57.40625 128 128v80c0 8.832031-7.167969 16-16 16zm0 0"></path>
                    </svg>
                    <input type="password" class="input" id="currentPassword" placeholder="Ingresa tu contraseña actual" />
                  </div>
  
                  <!-- Contraseña nueva -->
                  <div class="flex-column">
                    <label>Nueva contraseña:</label>
                  </div>
                  <div class="inputForm">
                    <!-- Ícono contraseña -->
                    <svg height="20" viewBox="-64 0 512 512" width="20" xmlns="http://www.w3.org/2000/svg" fill="white">
                      <path d="m336 512h-288c-26.453125 0-48-21.523438-48-48v-224c0-26.476562 21.546875-48 48-48h288c26.453125 0 48 21.523438 48 48v224c0 26.476562-21.546875 48-48 48zm-288-288c-8.8125 0-16 7.167969-16 16v224c0 8.832031 7.1875 16 16 16h288c8.8125 0 16-7.167969 16-16v-224c0-8.832031-7.1875-16-16-16zm0 0"></path>
                      <path d="m304 224c-8.832031 0-16-7.167969-16-16v-80c0-52.929688-43.070312-96-96-96s-96 43.070312-96 96v80c0 8.832031-7.167969 16-16 16s-16-7.167969-16-16v-80c0-70.59375 57.40625-128 128-128s128 57.40625 128 128v80c0 8.832031-7.167969 16-16 16zm0 0"></path>
                    </svg>
                    <input type="password" class="input" id="newPassword" required minlength="6" placeholder="Ingresa tu contraseña nueva" />
                  </div>
  
                  <!--confirmar contraseña Contraseña  -->
                  <div class="flex-column">
                    <label>Confirmar nueva contraseña:</label>
                  </div>
                  <div class="inputForm">
                    <!-- Ícono contraseña -->
                    <svg height="20" viewBox="-64 0 512 512" width="20" xmlns="http://www.w3.org/2000/svg" fill="white">
                      <path d="m336 512h-288c-26.453125 0-48-21.523438-48-48v-224c0-26.476562 21.546875-48 48-48h288c26.453125 0 48 21.523438 48 48v224c0 26.476562-21.546875 48-48 48zm-288-288c-8.8125 0-16 7.167969-16 16v224c0 8.832031 7.1875 16 16 16h288c8.8125 0 16-7.167969 16-16v-224c0-8.832031-7.1875-16-16-16zm0 0"></path>
                      <path d="m304 224c-8.832031 0-16-7.167969-16-16v-80c0-52.929688-43.070312-96-96-96s-96 43.070312-96 96v80c0 8.832031-7.167969 16-16 16s-16-7.167969-16-16v-80c0-70.59375 57.40625-128 128-128s128 57.40625 128 128v80c0 8.832031-7.167969 16-16 16zm0 0"></path>
                    </svg>
                    <input type="password" class="input" id="confirmPassword" required minlength="6" placeholder="Repita contraseña nueva" />
                  </div>
                
                  <button type="submit" class="button-submit">Cambiar contraseña</button>
              </form> 
              </div>
            </div>
          </div>

            <div class="modal-content">


            </div>
        </div>




        <div id="errorModal" class="modal">
          <div class="contenedor_informacion" >
            <div class="bloque_info">
              <div class="columna_info">
                <form class="form" >
                  <div class="encabezado-formulario">
                    <h1>OH Noo...</h1>
                    <p>Creo que ha ocurrido algo con el proceso de compra, por favor inténtelo nuevamente.</p>
                  </div>
                  <div>
                    <button  onclick="document.getElementById('modal-error').style.display='none'" class="button-submit">Cerrar</button>
                  </div>
              </form> 
              </div>
            </div>
          </div>
        </div>




        <!-- buscador para productos -->
        {% block buscador %}
        {% endblock %}
        <!-- Contenido de la web -->
        {% block contenido %}
        {% endblock %}


    </body>
</html>
